<section class="mx-4 mb-2 p-4 bg-gray-800 text-gray-200 rounded-b-lg border-2 border-black">
  <h4 class="text-2xl uppercase text-center">
    <%= t('.title') %>
  </h4>
</section>

<section class="flex justify-center">
  <article class="flex flex-col items-center border-2 border-black rounded-lg p-2 bg-orange-200">
    <h1 class="text-xl font-bold uppercase"> Tu Saldo </h1>

    <% if @wallet&.balance >= 0 %>
            <h1 class="p-2 bg-gray-900 border border-gray-800 rounded-lg text-green-700 font-bold" id="saldo_verde">$ <%= @wallet.balance %></h1>
        <% else %>
            <h1 class=class="p-2 bg-gray-900 border border-gray-800 rounded-lg text-red-700 font-bold" style="color: red">$ <%= @wallet.balance %></h1>
        <%end%>
    <%# el mete la cantidad que quiere cargar el cliente %>
    <% if Current.user&.role? == "client" && Current.user.card %>
    <%= form_for(@wallet, as: :wallet, url: "/wallets/#{@wallet.user_id}" , html: { method: :put, id:"form2" }) do |form| %>
            <div class="row m-4">
              <div class="col-7">
                <div class="form-outline">
                  <div class="input-group mb-3 flex flex-col">
                    <div class="flex">
                      <span class="input-group-text mx-2" id="basic-addon1">$</span>
                      <%= form.label "Cantidad" %>
                    </div>
                    <%= form.number_field :charge_wallet, class: "form-control", min: "0", required: true %>
                    <%= form.submit "Cargar con tarjeta de débito", class: "mt-2 mx-1 text-orange-100 font-bold bg-orange-500 py-2 px-2 rounded hover:brightness-110 border-2 border-black focus:z-10 focus:border-orange-900 focus:outline-none focus:ring-orange-900 cursor-pointer" %>
                  </div>
                </div>
              </div>
            </div>
      <% end %>
    <% end %>
    <%# el mete la cantidad que quiere cargar o descontar el supervisor %>
    <% if Current.user&.role? == "supervisor" %>
      <%= form_for(@wallet, as: :wallet, url: "/wallets/#{@wallet.user_id}" , html: { method: :put, id:"form2" } ) do |form| %>
            <div class="row m-4" >
              <div class="col-7">
                <div class="form-outline">
                  <div class="input-group mb-3">
                  <span class="input-group-text" id="basic-addon1">$</span>
                  <%= form.text_field :charge_wallet, class: "form-control" , min: "0", required: true %>
                  </div>
                  <%= form.label "Cantidad" %>
                </div>
              </div>
            </div>
      <% end %>
    <% end %>

    <%=link_to "Añadir tarjeta" , new_card_path ,class: "mt-2 mx-2 text-orange-500 font-bold" if Current.user&.role? == 'client' && !Current.user.card %>
    <%=link_to "Editar tarjeta" ,edit_card_path(Current.user.id) ,class: "mt-2 mx-2 text-orange-500 font-bold" if Current.user&.role? == 'client' && Current.user.card %>
    <%=link_to "ver movimientos" ,rentals_path,class: "mt-2 mx-2 text-orange-500 font-bold" if Current.user&.role? == 'client' %>
  </article>

  
</section>

